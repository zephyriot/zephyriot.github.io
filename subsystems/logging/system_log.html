

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>System Logging &mdash; Zephyr Project Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Zephyr Project Documentation" href="../../index.html"/>
        <link rel="up" title="Logging" href="index.html"/>
        <link rel="next" title="Kernel Event Logger" href="kernel_event_logger.html"/>
        <link rel="prev" title="Logging" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Zephyr Project
          

          
          </a>

          
            
            
              <div class="version">
                1.6.99
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introducing_zephyr.html">Introducing Zephyr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/getting_started.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../boards/boards.html">Supported Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel/kernel.html">Zephyr Kernel Primer (version 2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../application/application.html">Application Development Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../porting/porting.html">Porting Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../drivers/drivers.html">Device Drivers and Device Model</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../subsystems.html">Subsystems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/bluetooth.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c_library.html">Standard C Library</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Logging</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">System Logging</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#global-kconfig-options">Global Kconfig Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apis">APIs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="kernel_event_logger.html">Kernel Event Logger</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../networking/networking.html">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../power_management.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sensor.html">Sensor Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell.html">Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test/ztest.html">Test Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usb/usb.html">USB device stack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples/samples.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/kconfig/index.html">Configuration Options Reference Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/code.html">Contributing Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LICENSING.html">Licensing of Zephyr Project components</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Zephyr Project</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../subsystems.html">Subsystems</a> &raquo;</li>
      
          <li><a href="index.html">Logging</a> &raquo;</li>
      
    <li>System Logging</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/subsystems/logging/system_log.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-logging">
<span id="system-log"></span><h1>System Logging</h1>
<p>The system log API provides a common interface to process messages issued by
developers. These messages are currently printed on the terminal but the API is
defined in a generic way.</p>
<p>This API can be deactivated through the Kconfig options, see
<a class="reference internal" href="#global-kconfig"><span class="std std-ref">Global Kconfig Options</span></a>.
This aproach prevents impacting image size and execution time when the system
log is not needed.</p>
<p>Each of the four <code class="docutils literal"><span class="pre">SYS_LOG_X</span></code> macros correspond to a different logging level,
The logging macros activate when their logging level or higher is set.</p>
<p>There are two configuration categories: configurations per module and global
configurations. When logging is enabled globally, it works for modules. However,
modules can disable logging locally. Every module can specify its own logging
level. The module must define the <code class="xref c c-macro docutils literal"><span class="pre">SYS_LOG_LEVEL</span></code> macro before
including the <code class="file docutils literal"><span class="pre">&lt;logging/sys_log.h&gt;</span></code> header file to do so. Unless a global
override is set, the module logging level will be honored. The global override
can only increase the logging level. It cannot be used to lower module logging
levels that were previously set higher.</p>
<p>You can set a local domain to differentiate messages. When no domain is set,
then the <code class="docutils literal"><span class="pre">[general]</span></code> domain appears before the message. Define the
<code class="xref c c-macro docutils literal"><span class="pre">SYS_LOG_DOMAIN</span></code> macro before including the <code class="file docutils literal"><span class="pre">logging/sys_log.h</span></code>
header file to set the domain.</p>
<p>When several macros are active, the printed messages can be differentiated in
two ways: by a tag printed before the message or by ANSI colors. See the
<a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_SHOW_TAGS.html#cmdoption-arg-config-sys-log-show-tags"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_SHOW_TAGS</span></code></a> and <a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_SHOW_COLOR.html#cmdoption-arg-config-sys-log-show-color"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_SHOW_COLOR</span></code></a>
Kconfig options for more information.</p>
<p>Define the <code class="xref c c-macro docutils literal"><span class="pre">SYS_LOG_NO_NEWLINE</span></code> macro before including the
<code class="file docutils literal"><span class="pre">logging/sys_log.h</span></code> header file to prevent macros appending a new line at the
end of the logging message.</p>
<div class="section" id="global-kconfig-options">
<span id="global-kconfig"></span><h2>Global Kconfig Options</h2>
<p>These options can be found in the following path <code class="file docutils literal"><span class="pre">misc/Kconfig</span></code>.</p>
<p><a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG.html#cmdoption-arg-config-sys-log"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG</span></code></a>: Global switch, turns on/off all system logging.</p>
<p><a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_DEFAULT_LEVEL.html#cmdoption-arg-config-sys-log-default-level"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_DEFAULT_LEVEL</span></code></a>: Default level, sets the logging level
used by modules that are not setting their own logging level.</p>
<p><a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_SHOW_TAGS.html#cmdoption-arg-config-sys-log-show-tags"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_SHOW_TAGS</span></code></a>: Globally sets whether level tags will be
shown on log or not.</p>
<p><a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_SHOW_COLOR.html#cmdoption-arg-config-sys-log-show-color"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_SHOW_COLOR</span></code></a>: Globally sets whether ANSI colors will be
used by the system log.</p>
<p><a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_OVERRIDE_LEVEL.html#cmdoption-arg-config-sys-log-override-level"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_OVERRIDE_LEVEL</span></code></a>: It overrides module logging level when
it is not set or set lower than the override value.</p>
</div>
<div class="section" id="example">
<h2>Example</h2>
<p>The following macro:</p>
<blockquote>
<div><div class="highlight-c"><div class="highlight"><pre><span></span><span class="n">SYS_LOG_WRN</span><span class="p">(</span><span class="s">&quot;hi!&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>Will produce:</p>
<blockquote>
<div><div class="highlight-console"><div class="highlight"><pre><span></span><span class="go">[general] [WRN] main: Hi!</span>
</pre></div>
</div>
</div></blockquote>
<p>For the above example to work at least one of the following settings must be
true:</p>
<ul class="simple">
<li>The <a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_DEFAULT_LEVEL.html#cmdoption-arg-config-sys-log-default-level"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_DEFAULT_LEVEL</span></code></a> is set to 2 or above and module
configuration is not set.</li>
<li>The module configuration is set to 2 or above.</li>
<li>The <a class="reference internal" href="../../reference/kconfig/CONFIG_SYS_LOG_OVERRIDE_LEVEL.html#cmdoption-arg-config-sys-log-override-level"><code class="xref std std-option docutils literal"><span class="pre">CONFIG_SYS_LOG_OVERRIDE_LEVEL</span></code></a> is set to 2 or above.</li>
</ul>
</div>
<div class="section" id="apis">
<h2>APIs</h2>
<dl class="macro">
<dt id="c.IS_SYS_LOG_ACTIVE">
<span class="target" id="Zephyrdb/df6/group__system__log_1gaaf49e0bd9b29ca2b257e28d91c2f99d1"></span><code class="descname">IS_SYS_LOG_ACTIVE</code></dt>
<dd><p>Specifies whether SYS_LOG is in use or not. </p>
<p>This macro expands to 1 if SYS_LOG was activated for current .c file, 0 otherwise. </p>
</dd></dl>

<dl class="macro">
<dt id="c.SYS_LOG_ERR">
<span class="target" id="Zephyrdb/df6/group__system__log_1gaa99ef670acc2d7015f73fe2c706c8fdf"></span><code class="descname">SYS_LOG_ERR</code><span class="sig-paren">(</span>...<span class="sig-paren">)</span></dt>
<dd><p>Writes an ERROR level message to the log. </p>
<p>Lowest logging level, these messages are logged whenever sys log is active. it&#8217;s meant to report severe errors, such as those from which it&#8217;s not possible to recover.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">...</span></code>: A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="macro">
<dt id="c.SYS_LOG_WRN">
<span class="target" id="Zephyrdb/df6/group__system__log_1ga2bca267824bb4d402423b24098b52cc2"></span><code class="descname">SYS_LOG_WRN</code><span class="sig-paren">(</span>...<span class="sig-paren">)</span></dt>
<dd><p>Writes a WARNING level message to the log. </p>
<p>available if SYS_LOG_LEVEL is SYS_LOG_LEVEL_WARNING or higher. It&#8217;s meant to register messages related to unusual situations that are not necesarily errors.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">...</span></code>: A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="macro">
<dt id="c.SYS_LOG_INF">
<span class="target" id="Zephyrdb/df6/group__system__log_1gaaa186a62677bf08f795aab08b2362c2d"></span><code class="descname">SYS_LOG_INF</code><span class="sig-paren">(</span>...<span class="sig-paren">)</span></dt>
<dd><p>Writes an INFO level message to the log. </p>
<p>available if SYS_LOG_LEVEL is SYS_LOG_LEVEL_INFO or higher. It&#8217;s meant to write generic user oriented messages.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">...</span></code>: A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="macro">
<dt id="c.SYS_LOG_DBG">
<span class="target" id="Zephyrdb/df6/group__system__log_1ga93e3dc5e2bea095db85840d96378db01"></span><code class="descname">SYS_LOG_DBG</code><span class="sig-paren">(</span>...<span class="sig-paren">)</span></dt>
<dd><p>Writes a DEBUG level message to the log. </p>
<p>highest logging level, available if SYS_LOG_LEVEL is SYS_LOG_LEVEL_DEBUG. It&#8217;s meant to write developer oriented information.</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal"><span class="pre">...</span></code>: A string optionally containing printk valid conversion specifier, followed by as many values as specifiers. </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="kernel_event_logger.html" class="btn btn-neutral float-right" title="Kernel Event Logger" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Logging" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Intel Corporation, Wind River Systems, Inc.
      Last updated on Jan 26, 2017.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.6.99',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>